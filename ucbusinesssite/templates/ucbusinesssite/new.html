{% extends 'ucbusinesssite/base.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'ucbusinesssite/css/new.css' %}">
<title>Insight</title>
{% endblock %}

{% block content %}
<section id="news">


  <div class="slider">
    <button type="button" id="arrow-prev" class="slider-arrow slider-arrow-prev" > </button>
    <img id="carousel0"   src="{{ newsArticle.imageurl_set.first.url }}">
    <button type="button" id="arrow-next" class="slider-arrow slider-arrow-next" > </button>
  </div>
  {% if request.session.language == 'EN' %}
    <h3> {{ newsArticle.titleEn }} </h3>
    <p> {{ newsArticle.bodyEn }} </p>
  {% else %}
    <h3> {{ newsArticle.title }} </h3>
    <p>{{ newsArticle.body }}</p>
  {% endif %}
  <span> {{ newsArticle.datePosted }} </span>
  <a href="{% url 'ucbusinesssite:insights' %}">
    <h4> < Back </h4>
  </a>

</section>
{% endblock %}

{% block script %}
<script>

var imageSources= {{ newsImages|safe }}

var currentIndex = 0;

var leftArrow = document.querySelector("#arrow-prev");
var rightArrow = document.querySelector("#arrow-next");

leftArrow.addEventListener("click", function() {
	currentIndex = currentIndex - 1;
	if (currentIndex < 0) {
		currentIndex = imageSources.length-1;
	}
	document.querySelector(".slider img").setAttribute("src", imageSources[currentIndex]);
});


rightArrow.addEventListener("click", function() {
	currentIndex = currentIndex + 1;
	if (currentIndex >= imageSources.length) {
		currentIndex = 0;
	}
	document.querySelector(".slider img").setAttribute("src", imageSources[currentIndex]);
});

function changeMenu(){

if ($('#menu-txt').css('display') == 'none'){
  $('#menu-txt').css('display', 'block');
  $('.rect-menu').css('height', '100vh');
}
else{
  $('#menu-txt').css('display', 'none');
  $('.rect-menu').css('height', '8vh');
}
}
</script>
{% endblock %}


